<html>
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <meta http-equiv="refresh" content="5">
</head>
<body>    
    <div class="container-fluid" style="margin-top:15px;">
        <h3>Broadcaster Emergency Report</h3>
        <hr>
        <p id="date"></p>
        <table class="table table-success table-striped">
            {{range $i, $a := .}}
            <thead>
                {{if eq $i 0}}
                <tr>
                    <th>Source</th>
                    <!-- {{range $key, $value := .Metrics}}
                    <th>{{$key}}</th>
                    {{end}} -->
                    <th>addToCart</th>
                    <th>removeFromCart</th>
                    <th>wishList</th>
                    <th>removeWishList</th>
                    <th>paymentVerified</th>
                    <th>followShop</th>
                    <th>unFollowShop</th>
                    <th>likeChannel</th>
                    <th>visitShop</th>
                    <th>visitPDP</th>
                    <th>unlike</th>
                    <th>visitChannel</th>
                </tr>
                {{end}}
            </thead>
            <tbody>                
                <tr>
                    <td>{{.Title}}</td>
                    <th>{{index $a.Metrics "addToCart"}}</th>
                    <th>{{index $a.Metrics "removeFromCart"}}</th>
                    <th>{{index $a.Metrics "wishList"}}</th>
                    <th>{{index $a.Metrics "removeWishList"}}</th>
                    <th>{{index $a.Metrics "paymentVerified"}}</th>
                    <th>{{index $a.Metrics "followShop"}}</th>
                    <th>{{index $a.Metrics "unFollowShop"}}</th>
                    <th>{{index $a.Metrics "likeChannel"}}</th>
                    <th>{{index $a.Metrics "visitShop"}}</th>
                    <th>{{index $a.Metrics "visitPDP"}}</th>
                    <th>{{index $a.Metrics "unlike"}}</th>
                    <th>{{index $a.Metrics "visitChannel"}}</th>
                    <!-- {{range $key, $value := $a.Metrics}}
                    <td>{{ $value }}</td>
                    {{end}} -->
                </tr>                
            </tbody>
            {{end}}
        </table>        
    </div>
</body>
</html>

<script>
    n =  new Date();
    y = n.getFullYear();
    m = n.getMonth() + 1;
    d = n.getDate();
    h = n.getHours();
    m = n.getMinutes();
    s = n.getSeconds();
    document.getElementById("date").innerHTML = m + "/" + d + "/" + y + " - " + h + ":" + m + ":" + s;
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>